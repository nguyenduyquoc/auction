<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<link href="/css/style1.css" rel="stylesheet">
<head>
    <meta charset="UTF-8">
    <title>Categories List</title>
</head>
<body>

<div class="container-fluid">

    <div th:replace="~{flagment/flagment :: sidebar}"></div>
    <div class="content">
        <!-- content here -->
        <div class="content" style="position: relative">
            <h2>Categories List</h2>
            <div style="position: absolute; top: 7px; right: 7px">
                <a class="btn btn-secondary" th:href="@{/v1/categories/add}">Add new category</a>
            </div>
            <table class="table">
                <thead>
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Name</th>
                    <th scope="col">Icon</th>
                    <th scope="col">Created_at</th>
                    <th scope="col">Updated_at</th>
                    <th scope="col">Is Delete</th>
                    <th scope="col">Action 1</th>
                    <th scope="col">Action 2</th>
                </tr>
                </thead>
                <tbody class="table-group-divider">
                <tr th:each="category : ${categories}">
                    <th scope="row" th:text="${category.getId()}"></th>
                    <td th:text="${category.getName()}"></td>
                    <td>
                        <img style="width: 69px; height: 69px; object-fit: contain;" th:src="${category.getIcon()}" alt="Category Icon" />
                    </td>
                    <td th:text="${category.getCreated_at()}"></td>
                    <td th:text="${category.getUpdated_at() != 'null' ? category.getUpdated_at() : 'Not updated yet'}"></td>
                    <td th:text="${category.is_deleted()} == true ? 'Yes' : 'No'"></td>
                    <td><a th:href="@{/v1/categories/edit(categoryId=${category.getId()})}" type="button" class="btn btn-success">Edit</a></td>
                    <td><a class ="btn btn-danger" th:href="@{/v1/categories/delete(categoryId=${category.getId()})}"
                           onclick="if (!(confirm('Are you sure you want to delete this student?'))) return false" >Delete</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

    </div>
</div>


<!-- FOOTER HERE -->
<!--<fiv th:replace="~{flagment/flagment :: footer}"></fiv>-->

</body>
</html>
